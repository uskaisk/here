const puppeteer=require('puppeteer'),fs=require('fs'),{Worker,isMainThread,parentPort,workerData}=require('worker_threads'),colors=require('colors'),{setTimeout:sleep}=require('timers/promises'),config=require('./config'),processedTokens=new Set();function log(_0x3b4045,_0x3ed3c3=null,_0x1d9fbc='info'){const _0x5db8c4={'info':colors['blue'],'success':colors['green'],'warning':colors['yellow'],'error':colors['red']},_0x32075a=new Date()['toLocaleTimeString'](),_0x87d9ff='[Thread-'+(workerData?.['threadId']||0x0)['toString']()['padStart'](0x3,'0')+']',_0x214d3c=_0x3ed3c3?'['+_0x3ed3c3['slice'](0x0,0x6)+'...]':'[SYSTEM]';console['log'](_0x5db8c4[_0x1d9fbc](_0x32075a+'\x20'+_0x87d9ff+'\x20'+_0x214d3c+'\x20'+_0x3b4045));}async function humanClick(_0x5c1807,_0x1996a0){await _0x5c1807['evaluate'](_0x3a967b=>{const _0x1b3454=document['querySelector'](_0x3a967b);_0x1b3454&&(_0x1b3454['scrollIntoView']({'behavior':'smooth','block':'center'}),_0x1b3454['click']());},_0x1996a0),await sleep(Math['random']()*(0x96-0x50)+0x50);}async function processToken(_0x4bb8b6){let _0x2821c6;try{log('Starting\x20session',_0x4bb8b6,'info'),_0x2821c6=await puppeteer['launch']({'headless':!![],'product':'firefox','args':['--no-sandbox']});const _0x43a81d=await _0x2821c6['newPage']();await _0x43a81d['goto']('https://telegram.geagle.online/'),await _0x43a81d['evaluate'](_0x159aaa=>localStorage['setItem']('session_token',_0x159aaa),_0x4bb8b6),await _0x43a81d['reload']();const _0x1b21ad='div._tapArea_njdmz_15';await _0x43a81d['waitForSelector'](_0x1b21ad,{'timeout':0x4e20}),log('Starting\x20'+config['TAP_COUNT']+'\x20taps',_0x4bb8b6,'warning');for(let _0x50d6c5=0x1;_0x50d6c5<=config['TAP_COUNT'];_0x50d6c5++){_0x50d6c5%0x32===0x0&&log('Progress:\x20'+_0x50d6c5+'/'+config['TAP_COUNT']+'\x20taps',_0x4bb8b6,'success'),await humanClick(_0x43a81d,_0x1b21ad);}const _0x464d4a='span:contains(\x22Earn\x22)';await _0x43a81d['evaluate'](()=>{const _0x2063d9=[...document['querySelectorAll']('span')]['find'](_0x3f190f=>_0x3f190f['textContent']['trim']()==='Earn');if(_0x2063d9)_0x2063d9['click']();});const _0x3d3809='div._active_\x20>\x20span';await _0x43a81d['evaluate'](()=>{const _0x5a8091=document['querySelector']('div._active_\x20>\x20span');if(_0x5a8091)_0x5a8091['click']();}),log('All\x20actions\x20completed\x20successfully',_0x4bb8b6,'success'),processedTokens['add'](_0x4bb8b6);}catch(_0x528a19){log('Operation\x20failed:\x20'+_0x528a19['message'],_0x4bb8b6,'error');}finally{_0x2821c6&&(await _0x2821c6['close'](),log('Session\x20closed',_0x4bb8b6,'warning'));}}!isMainThread&&((async()=>{const {token:_0x88d1c6,threadId:_0x1b3735}=workerData;await processToken(_0x88d1c6),parentPort['postMessage']('done');})());async function batchProcessor(){while(!![]){try{const _0x16e329=fs['readFileSync'](config['TOKEN_FILE'],'utf8')['split']('\x0a')['map'](_0x3ee605=>_0x3ee605['trim']())['filter'](_0x5d95ab=>_0x5d95ab),_0x2fbd81=_0x16e329['filter'](_0x513b88=>!processedTokens['has'](_0x513b88));if(_0x2fbd81['length']===0x0){log('All\x20tokens\x20processed!\x20Waiting\x202\x20minutes...',null,'success'),await sleep(config['CYCLE_RESET_DELAY']),processedTokens['clear']();continue;}log('New\x20batch\x20started\x20|\x20Remaining\x20tokens:\x20'+_0x2fbd81['length'],null,'info');const _0x13dc70=[];for(let _0x1ed053=0x0;_0x1ed053<Math['min'](config['MAX_THREADS'],_0x2fbd81['length']);_0x1ed053++){const _0x2ac5ec=_0x2fbd81[_0x1ed053];processedTokens['add'](_0x2ac5ec);const _0x5583dc=new Worker(__filename,{'workerData':{'token':_0x2ac5ec,'threadId':_0x1ed053+0x1}});_0x13dc70['push'](_0x5583dc),await sleep(0xbb8);}await Promise['all'](_0x13dc70['map'](_0x34a22e=>new Promise(_0x3e4c1f=>_0x34a22e['on']('message',_0x3e4c1f)))),log('Batch\x20completed.\x20Cooling\x20down\x20for\x20'+config['DELAY_BETWEEN_BATCHES']/0x3e8+'\x20seconds...',null,'warning'),await sleep(config['DELAY_BETWEEN_BATCHES']);}catch(_0x28ecdf){log('System\x20error:\x20'+_0x28ecdf['message'],null,'error'),await sleep(0xea60);}}}const PASSWORD='mohseenalways@1';if(isMainThread){console['log']('\x0a███████╗\x20██████╗\x20██╗\x20\x20\x20██╗\x20██████╗\x20██████╗\x20███████╗\x0a██╔════╝██╔═══██╗╚██╗\x20██╔╝██╔════╝██╔═══██╗██╔════╝\x0a█████╗\x20\x20██║\x20\x20\x20██║\x20╚████╔╝\x20██║\x20\x20\x20\x20\x20██║\x20\x20\x20██║███████╗\x0a██╔══╝\x20\x20██║\x20\x20\x20██║\x20\x20╚██╔╝\x20\x20██║\x20\x20\x20\x20\x20██║\x20\x20\x20██║╚════██║\x0a███████╗╚██████╔╝\x20\x20\x20██║\x20\x20\x20╚██████╗╚██████╔╝███████║\x0a╚══════╝\x20╚═════╝\x20\x20\x20\x20╚═╝\x20\x20\x20\x20╚═════╝\x20╚═════╝\x20╚══════╝\x0a');const readline=require('readline')['createInterface']({'input':process['stdin'],'output':process['stdout']});readline['question']('Enter\x20the\x20password:\x20',_0x501707=>{_0x501707===PASSWORD?batchProcessor():(console['log']('Message\x20me\x20for\x20the\x20password\x20on\x20Telegram:\x20@xoxoxxooxo'),process['exit'](0x1)),readline['close']();});}